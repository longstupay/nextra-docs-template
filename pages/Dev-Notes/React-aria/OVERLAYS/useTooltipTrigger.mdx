# useTooltipTrigger

## ç®€ä»‹

ä¸ºå·¥å…·æç¤ºè§¦å‘å™¨æä¾›è¡Œä¸ºå’Œå¯è®¿é—®æ€§å®ç°ï¼Œä¾‹å¦‚ï¼Œå½“èšç„¦æˆ–æ‚¬åœæ—¶æ˜¾ç¤ºæè¿°çš„æŒ‰é’®ã€‚

```yml
install	yarn add react-aria
version	3.22.0
usage	import {useTooltipTrigger, useTooltip} from 'react-aria'

```

## API 

```jsx
useTooltipTrigger(
  props: TooltipTriggerProps,
  state: TooltipTriggerState,
  ref: RefObject<FocusableElement>
): TooltipTriggerAria
useTooltip(props: AriaTooltipProps, state?: TooltipTriggerState): TooltipAria
```

## åŠŸèƒ½

HTML `title`å±æ€§å¯ä»¥ç”¨æ¥åˆ›å»ºä¸€ä¸ªå·¥å…·æç¤ºï¼Œä½†å®ƒä¸èƒ½è¢«æ ·å¼åŒ–ã€‚useTooltipTriggerå’ŒuseTooltipæœ‰åŠ©äºå»ºç«‹å®Œå…¨æ— éšœç¢çš„å·¥å…·æç¤ºï¼Œå¯ä»¥æ ¹æ®éœ€è¦è¿›è¡Œæ ·å¼è®¾è®¡ã€‚

### åŠŸèƒ½ç‰¹ç‚¹

- é”®ç›˜ç„¦ç‚¹ç®¡ç†å’Œè·¨æµè§ˆå™¨è§„èŒƒåŒ–
- æ‚¬åœç®¡ç†å’Œè·¨æµè§ˆå™¨è§„èŒƒåŒ–
- æ”¯æŒå±å¹•é˜…è¯»å™¨çš„æ ‡ç­¾ï¼ˆaria-describedbyï¼‰ã€‚
- é€šè¿‡ARIAä»¥å·¥å…·æç¤ºçš„å½¢å¼æš´éœ²ç»™è¾…åŠ©æŠ€æœ¯
- åŒ¹é…æœ¬åœ°çš„å·¥å…·æç¤ºè¡Œä¸ºï¼Œåœ¨ç¬¬ä¸€ä¸ªå·¥å…·æç¤ºçš„æ‚¬åœä¸Šæœ‰å»¶è¿Ÿï¼Œåœ¨éšåçš„å·¥å…·æç¤ºä¸Šæ²¡æœ‰å»¶è¿Ÿã€‚

### åŠŸèƒ½æ‹†è§£

ä¸€ä¸ªå·¥å…·æç¤ºç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼šè§¦å‘å…ƒç´ å’Œå·¥å…·æç¤ºæœ¬èº«ã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡æ‚¬åœæˆ–èšç„¦è§¦å‘å™¨æ¥æ˜¾ç¤ºå·¥å…·æç¤ºã€‚

useTooltipTriggerè¿”å›è¦ä¼ æ’­åˆ°å…¶ç›®æ ‡è§¦å‘å™¨å’Œå·¥å…·æç¤ºçš„Propsã€‚

| Name        | Type         |         æè¿° |
| :------------ | :---------: | ----------: |
| triggerProps        |    reactæ”¯æŒçš„DOMå±æ€§  & PressProps & HoverProps & FocusEvents   | å®¿ä¸»è§¦å‘ele |
| tooltipProps     |     reactæ”¯æŒçš„DOMå±æ€§     |    è¦†ç›–ç±»ele |


useTooltipè¿”å›å°†è¢«ä¼ æ’­åˆ°å·¥å…·æç¤ºçš„Propsã€‚

| Name        | Type         |         æè¿° |
| :------------ | :---------: | ----------: |
| tooltipProps |  reactæ”¯æŒçš„DOMå±æ€§     |   å°æç¤ºå·¥å…·ele |

å·¥å…·æç¤ºçŠ¶æ€ç”±@react-stately/tooltipä¸­çš„useTooltipTriggerStateé’©å­ç®¡ç†ã€‚è¯¥çŠ¶æ€å¯¹è±¡åº”ä½œä¸ºä¸€ä¸ªé€‰é¡¹ä¼ é€’ç»™useTooltipTriggerå’ŒuseTooltipã€‚

## ç¤ºä¾‹

è¿™ä¸ªä¾‹å­å®ç°äº†ä¸€ä¸ªTooltipï¼Œåœ¨å…¶ç›®æ ‡æ—è¾¹çš„ç»å¯¹ä½ç½®æ˜¾ç¤ºã€‚useTooltipé’©å­å°†æ­£ç¡®çš„ARIAå±æ€§åº”ç”¨åˆ°å·¥å…·æç¤ºä¸Šï¼ŒuseTooltipTriggerå°†å…¶ä¸è§¦å‘å™¨å…ƒç´ ç›¸å…³ã€‚

è¯¥ä¾‹å­çš„ä¸¤ä¸ªå®ä¾‹è¢«å‘ˆç°å‡ºæ¥ï¼Œä»¥æ¼”ç¤ºæ‚¬åœæ—¶çš„å»¶è¿Ÿè¡Œä¸ºã€‚å¦‚æœä½ æ‚¬åœåœ¨ç¬¬ä¸€ä¸ªæŒ‰é’®ä¸Šï¼Œå·¥å…·æç¤ºå°†åœ¨å»¶è¿Ÿåæ˜¾ç¤ºã€‚
æ‚¬åœåœ¨ç¬¬äºŒä¸ªæŒ‰é’®ä¸Šä¼šç«‹å³æ˜¾ç¤ºå·¥å…·æç¤ºã€‚å¦‚æœä½ åœ¨æ‚¬åœå¦ä¸€ä¸ªå…ƒç´ ä¹‹å‰ç­‰å¾…å»¶è¿Ÿï¼Œå»¶è¿Ÿä¼šé‡æ–°å¼€å§‹ã€‚

```jsx
import {useTooltipTriggerState} from 'react-stately';
import {mergeProps, useTooltip, useTooltipTrigger} from 'react-aria';

function Tooltip({ state, ...props }) {
  let { tooltipProps } = useTooltip(props, state);

  return (
    <span
      style={{
        position: 'absolute',
        left: '5px',
        top: '100%',
        maxWidth: 150,
        marginTop: '10px',
        backgroundColor: 'white',
        color: 'black',
        padding: '5px',
        border: '1px solid gray'
      }}
      {...mergeProps(props, tooltipProps)}
    >
      {props.children}
    </span>
  );
}

function TooltipButton(props) {
  let state = useTooltipTriggerState(props);
  let ref = React.useRef();

  // Get props for the trigger and its tooltip
  let { triggerProps, tooltipProps } = useTooltipTrigger(props, state, ref);

  return (
    <span style={{ position: 'relative' }}>
      <button
        ref={ref}
        {...triggerProps}
        style={{ fontSize: 18 }}
        onClick={() => alert('Pressed button')}
      >
        {props.children}
      </button>
      {state.isOpen &&
        <Tooltip state={state} {...tooltipProps}>{props.tooltip}</Tooltip>}
    </span>
  );
}

<TooltipButton tooltip="Edit">âœï¸</TooltipButton>
<TooltipButton tooltip="Delete">ğŸš®</TooltipButton>

```

## ä½•æ—¶ä½¿ç”¨

ä¸‹é¢çš„ä¾‹å­å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ä¸Šé¢çš„ä¾‹å­ä¸­åˆ›å»ºçš„TooltipButtonç»„ä»¶ã€‚

### Delay

å½“æ‚¬åœè§¦å‘å™¨æ—¶ï¼Œå·¥å…·æç¤ºä¼šåœ¨çŸ­æš‚çš„å»¶è¿Ÿåå‡ºç°ï¼Œè€Œå½“ä½¿ç”¨é”®ç›˜ç„¦ç‚¹æ—¶ï¼Œåˆ™ä¼šç«‹å³å‡ºç°ã€‚è¿™ä¸ªå»¶è¿Ÿå¯ä»¥ç”¨å»¶è¿Ÿé“å…·ä¸ºæ‚¬åœè¿›è¡Œè°ƒæ•´ã€‚

```jsx
<TooltipButton tooltip="Save" delay={0}>ğŸ’¾</TooltipButton>
```

### Trigger

é»˜è®¤æƒ…å†µä¸‹ï¼Œå·¥å…·æç¤ºåŒæ—¶å‡ºç°åœ¨æ‚¬åœå’Œç„¦ç‚¹ä¸Šã€‚è§¦å‘é“å…·å¯ä»¥è¢«è®¾ç½®ä¸º "ç„¦ç‚¹"ï¼Œä»¥ä¾¿åªåœ¨ç„¦ç‚¹æ—¶æ˜¾ç¤ºå·¥å…·æç¤ºï¼Œè€Œä¸æ˜¯åœ¨æ‚¬åœæ—¶ã€‚

```jsx
<TooltipButton tooltip="Burn CD" trigger="focus">ğŸ’¿</TooltipButton>
```

### Controlled open state

å·¥å…·æç¤ºçš„æ‰“å¼€çŠ¶æ€å¯ä»¥é€šè¿‡defaultOpenå’ŒisOpenæ¥æ§åˆ¶ã€‚

```jsx
function Example() {
  let [isOpen, setOpen] = React.useState(false);

  return (
    <>
      <p>Tooltip is {isOpen ? 'showing' : 'not showing'}</p>
      <TooltipButton
        tooltip="Notifications"
        isOpen={isOpen}
        onOpenChange={setOpen}
      >
        ğŸ“£
      </TooltipButton>
    </>
  );
}
```

### Disabled

isDisabledé“å…·å¯ä»¥æä¾›ç»™TooltipTriggeræ¥ç¦ç”¨å·¥å…·æç¤ºï¼Œè€Œä¸ä¼šç¦ç”¨å®ƒæ‰€æ˜¾ç¤ºçš„è§¦å‘å™¨ã€‚

```jsx
<TooltipButton tooltip="Print" isDisabled>ğŸ–¨</TooltipButton>
```

## å›½é™…åŒ–

### RTL

åœ¨ä»å³åˆ°å·¦çš„è¯­è¨€ä¸­ï¼Œå·¥å…·æç¤ºåº”è¯¥åœ¨æ•´ä¸ªè§¦å‘å™¨ä¸Šè¿›è¡Œé•œåƒã€‚ç¡®ä¿ä½ çš„CSSå’Œå åŠ å®šä½ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰è€ƒè™‘åˆ°è¿™ä¸€ç‚¹ã€‚

